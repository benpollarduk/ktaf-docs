
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../overworld/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.34">
    
    
      
        <title>Getting Started - Ktaf</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.35f28582.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#getting-started" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Ktaf" class="md-header__button md-logo" aria-label="Ktaf" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Ktaf
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Getting Started
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Ktaf" class="md-nav__button md-logo" aria-label="Ktaf" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Ktaf
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#adding-the-package-to-your-project" class="md-nav__link">
    <span class="md-ellipsis">
      Adding the package to your project
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#first-game" class="md-nav__link">
    <span class="md-ellipsis">
      First Game
    </span>
  </a>
  
    <nav class="md-nav" aria-label="First Game">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    <span class="md-ellipsis">
      Setup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-a-playablecharacter" class="md-nav__link">
    <span class="md-ellipsis">
      Adding a PlayableCharacter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-the-game-world" class="md-nav__link">
    <span class="md-ellipsis">
      Creating the game world
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checking-the-game-is-complete" class="md-nav__link">
    <span class="md-ellipsis">
      Checking the game is complete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-the-game" class="md-nav__link">
    <span class="md-ellipsis">
      Creating the game
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executing-the-game" class="md-nav__link">
    <span class="md-ellipsis">
      Executing the game
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bringing-it-all-together" class="md-nav__link">
    <span class="md-ellipsis">
      Bringing it all together
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Environments
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Environments
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../overworld/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overworld
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../region/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Region
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../room/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Room
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exit
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../items/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Items
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Characters
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Characters
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../playable-character/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PlayableCharacter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../non-playable-character/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NonPlayableCharacter
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../conditional-descriptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conditional Descriptions
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../commands/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Commands
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../attributes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Attributes
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../frame-builders/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Frame Builders
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../end-conditions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    End Conditions
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api-documentation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Api Documentation
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#adding-the-package-to-your-project" class="md-nav__link">
    <span class="md-ellipsis">
      Adding the package to your project
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#first-game" class="md-nav__link">
    <span class="md-ellipsis">
      First Game
    </span>
  </a>
  
    <nav class="md-nav" aria-label="First Game">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    <span class="md-ellipsis">
      Setup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-a-playablecharacter" class="md-nav__link">
    <span class="md-ellipsis">
      Adding a PlayableCharacter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-the-game-world" class="md-nav__link">
    <span class="md-ellipsis">
      Creating the game world
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checking-the-game-is-complete" class="md-nav__link">
    <span class="md-ellipsis">
      Checking the game is complete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-the-game" class="md-nav__link">
    <span class="md-ellipsis">
      Creating the game
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executing-the-game" class="md-nav__link">
    <span class="md-ellipsis">
      Executing the game
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bringing-it-all-together" class="md-nav__link">
    <span class="md-ellipsis">
      Bringing it all together
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="getting-started">Getting Started</h1>
<h2 id="adding-the-package-to-your-project">Adding the package to your project</h2>
<p>You need to pull Ktaf into your project. The easiest way to do this is to add the package. The latest package and 
installation instructions are available <a href="https://github.com/benpollarduk/ktaf/packages/">here</a>.</p>
<h2 id="first-game">First Game</h2>
<p>Once the package has been installed it's time to jump in and start building your first game.</p>
<h3 id="setup">Setup</h3>
<p>To start with create a new Console application. It should look something like this:</p>
<pre><code class="language-kotlin">package com.github.benpollarduk.ktaf.gettingstarted

object Main {
    @JvmStatic
    fun main(args: Array&lt;String&gt;) {

    }
}
</code></pre>
<h3 id="adding-a-playablecharacter">Adding a PlayableCharacter</h3>
<p>Every game requires a character to play as, lets add that next:</p>
<pre><code class="language-kotlin">private fun createPlayer(): PlayableCharacter {
    return PlayableCharacter(&quot;Dave&quot;, &quot;A young boy on a quest to find the meaning of life.&quot;)
}
</code></pre>
<p>In this example whenever <strong>createPlayer</strong> is called a new <strong>PlayableCharacter</strong> will be created. The character is 
called "Dave" and has a description that describes him as "A young boy on a quest to find the meaning of life.".</p>
<h3 id="creating-the-game-world">Creating the game world</h3>
<p>The game world consists of a hierarchy of three tiers: <strong>Overworld</strong>, <strong>Region</strong> and <strong>Room</strong>. We will create a simple 
<strong>Region</strong> with two <strong>Rooms</strong>. We can do this directly in the <strong>main</strong> function for simplicity. To start with lets make 
the <strong>Rooms</strong>:</p>
<pre><code class="language-kotlin">@JvmStatic
fun main(args: Array&lt;String&gt;) {
    val cavern = Room(
        &quot;Cavern&quot;,
        &quot;A dark cavern set in to the base of the mountain.&quot;,
        listOf(
            Exit(Direction.NORTH),
        ),
    )

    val tunnel = Room(
        &quot;Tunnel&quot;,
        &quot;A dark tunnel leading inside the mountain.&quot;,
        listOf(
            Exit(Direction.SOUTH),
        ),
    )
}
</code></pre>
<p>Although the <strong>Rooms</strong> haven't been added to a <strong>Region</strong> yet there are exits in place that will allow the player to 
move between them.</p>
<p>Games are boring without <strong>Items</strong> to interact with, let's add an item to the tunnel:</p>
<pre><code class="language-kotlin">val holyGrail = Item(&quot;Holy Grail&quot;, &quot;A dull golden cup, looks pretty old.&quot;, true)

tunnel.addItem(holyGrail)
</code></pre>
<p>Looking good, but the <strong>Rooms</strong> need to be contained within a <strong>Region</strong>. <strong>RegionMaker</strong> simplifies this process, 
but sometimes creating a <strong>Region</strong> directly may be more appropriate if more control is needed. Here we will 
use <strong>RegionMaker</strong>:</p>
<pre><code class="language-kotlin">val regionMaker = RegionMaker(&quot;Mountain&quot;, &quot;An imposing volcano just East of town.&quot;).also {
    it[0, 0, 0] = cavern
    it[0, 1, 0] = tunnel
}
</code></pre>
<p>This needs more breaking down. The <strong>RegionMaker</strong> will create a region called "Mountain" with a description of "An 
imposing volcano just East of town.". The region will contain two rooms, the cavern and the tunnel. The cavern will be 
added at position <em>x</em> 0, <em>y</em> 0, <em>z</em> 0. The tunnel will be added at position <em>x</em> 0, <em>y</em> 1, <em>z</em> 0, north of the cavern.</p>
<p>The game world is nearly complete, but the <strong>Region</strong> needs to exist within an <strong>Overworld</strong> for it to be finished. We 
will use <strong>OverworldMaker</strong> to achieve this:</p>
<pre><code class="language-kotlin">val overworldMaker = OverworldMaker(
    &quot;Daves World&quot;,
    &quot;An ancient kingdom.&quot;, listOf(
        regionMaker
    )
)
</code></pre>
<p>This will create an <strong>Overworld</strong> called "Daves World" which is described as "An ancient kingdom" and contains a 
single <strong>Region</strong>.</p>
<p>All together the code looks like this:</p>
<pre><code class="language-kotlin">val cavern = Room(
    &quot;Cavern&quot;,
    &quot;A dark cavern set in to the base of the mountain.&quot;,
    listOf(
        Exit(Direction.NORTH),
    ),
)

val tunnel = Room(
    &quot;Tunnel&quot;,
    &quot;A dark tunnel leading inside the mountain.&quot;,
    listOf(
        Exit(Direction.SOUTH),
    ),
)

val holyGrail = Item(&quot;Holy Grail&quot;, &quot;A dull golden cup, looks pretty old.&quot;, true)

tunnel.addItem(holyGrail)

val regionMaker = RegionMaker(&quot;Mountain&quot;, &quot;An imposing volcano just East of town.&quot;).also {
    it[0, 0, 0] = cavern
    it[0, 1, 0] = tunnel
}

val overworldMaker = OverworldMaker(
    &quot;Daves World&quot;,
    &quot;An ancient kingdom.&quot;, listOf(
        regionMaker
    )
)
</code></pre>
<h3 id="checking-the-game-is-complete">Checking the game is complete</h3>
<p>For a game to come to an end it needs to either hit a game over state or a completion state.</p>
<p>Firstly lets look at the logic that determines if the game is complete. An <strong>EndCheck</strong> is required, which returns an 
<strong>EndCheckResult</strong> that determines if the game is complete.</p>
<p>In this example lets make a function that determines if the game is complete. The game is complete if the player has 
the holy grail:</p>
<pre><code class="language-kotlin">private fun isGameComplete(game: Game): EndCheckResult {
    if (game.player.findItem(&quot;Holy Grail&quot;) == null) {
        return EndCheckResult.notEnded
    }

    return EndCheckResult(true, &quot;Game Complete&quot;, &quot;You have the Holy Grail!&quot;)
}
</code></pre>
<p>If the player has the holy grail then the <strong>EndCheckResult</strong> will return that the game has ended, and have a title that 
will read "Game Complete" and a description that reads "You have the Holy Grail!".</p>
<p>A common game over state may be if the player dies:</p>
<pre><code class="language-kotlin">private fun isGameOver(game: Game): EndCheckResult {
    if (game.player.isAlive) {
        return EndCheckResult.notEnded
    }

    return EndCheckResult(true, &quot;Game Over&quot;, &quot;You died!&quot;)
}
</code></pre>
<h3 id="creating-the-game">Creating the game</h3>
<p>The game now has all the required assets and logic it just needs some boilerplate to tie everything together before it 
is ready to play.</p>
<p>A <strong>GameCreationCallback</strong> is required to instantiate an instance of a <strong>Game</strong>. This is so that new instances of the 
<strong>Game</strong> can be created as required.</p>
<pre><code class="language-kotlin">val gameTemplate = object : GameTemplate() {
    override fun instantiate(ioConfiguration: IOConfiguration): Game {
        return Game(
            GameInformation(
                &quot;The Life Of Dave&quot;,
                &quot;Dave awakes to find himself in a cavern...&quot;,
                &quot;A very low budget adventure.&quot;,
                &quot;Ben Pollard&quot;
            ),
            createPlayer(),
            overworldMaker.make(),
            { isGameComplete(it) },
            { isGameOver(it) },
            ioConfiguration = ioConfiguration
        )
    }
}
</code></pre>
<p>This requires some breaking down. A new subclass of <strong>GameTemplate</strong> is created. A <strong>GameTemplate</strong> is required to 
execute a game because the <strong>GameExecutor</strong>, the class responsible for executing games may need to instantiate more than 
one instance of the game. When <strong>instantiate</strong> is called a new instance of <strong>Game</strong> is returned. The constructor for<br />
<strong>Game</strong> class takes the following arguments:
<strong>GameInformation</strong> - information abut the game.
<strong>Player</strong> - the player.
<strong>Overworld</strong> - the overworld.
<strong>CompletionCondition</strong> - a callback for determining if the game is complete. Here it is passed a lambda, which in turn passes in the player to the function.
<strong>GameOverCondition</strong> - a callback for determining if the game is over. Here it is passed a lambda, which in turn passes in the player to the function.
<strong>IOConfiguration</strong> - a configuration that allows Ktaf to be used with different applications. Here the ioConfiguration which is passed in when the instantiate function is called is used.</p>
<h3 id="executing-the-game">Executing the game</h3>
<p>As previously mentioned, the <strong>GameExecutor</strong> is responsible for executing the game. <strong>GameExecutor</strong> can execute games 
either synchronously or asynchronously. For console applications synchronous execution is appropriate. However, for 
other types of application asynchronous execution may be required. As this is a console application synchronous execution 
is most appropriate. The <strong>ExitMode</strong> has been set to <strong>RETURN_TO_TITLE_SCREEN</strong> so that when the game ends, either on 
completion, game over or when the player chooses to exit the game by tying the <strong>Exit</strong> command, the application will 
return to the title screen. The <strong>AnsiConsoleConfiguration</strong> is used, this configures the game to be run on an ANSI 
compatible console. Other configurations can be created to allow Ktaf to function with other types of application, see 
the examples in the repo for more information.</p>
<pre><code class="language-kotlin">GameExecutor.execute(
    gameTemplate,
    ExitMode.RETURN_TO_TITLE_SCREEN,
    AnsiConsoleConfiguration
)
</code></pre>
<h3 id="bringing-it-all-together">Bringing it all together</h3>
<p>The full example code should look like this:</p>
<pre><code class="language-kotlin">package com.github.benpollarduk.ktaf.gettingstarted

import com.github.benpollarduk.ktaf.assets.Item
import com.github.benpollarduk.ktaf.assets.characters.PlayableCharacter
import com.github.benpollarduk.ktaf.assets.locations.Direction
import com.github.benpollarduk.ktaf.assets.locations.Exit
import com.github.benpollarduk.ktaf.assets.locations.Room
import com.github.benpollarduk.ktaf.io.IOConfiguration
import com.github.benpollarduk.ktaf.io.configurations.AnsiConsoleConfiguration
import com.github.benpollarduk.ktaf.logic.ExitMode
import com.github.benpollarduk.ktaf.logic.Game
import com.github.benpollarduk.ktaf.logic.GameExecutor
import com.github.benpollarduk.ktaf.logic.GameInformation
import com.github.benpollarduk.ktaf.logic.conditions.EndCheckResult
import com.github.benpollarduk.ktaf.utilities.OverworldMaker
import com.github.benpollarduk.ktaf.utilities.RegionMaker
import com.github.benpollarduk.ktaf.utilities.templates.GameTemplate

object Main {
    private fun createPlayer(): PlayableCharacter {
        return PlayableCharacter(&quot;Dave&quot;, &quot;A young boy on a quest to find the meaning of life.&quot;)
    }

    private fun isGameComplete(game: Game): EndCheckResult {
        if (game.player.findItem(&quot;Holy Grail&quot;) == null) {
            return EndCheckResult.notEnded
        }

        return EndCheckResult(true, &quot;Game Complete&quot;, &quot;You have the Holy Grail!&quot;)
    }

    private fun isGameOver(game: Game): EndCheckResult {
        if (game.player.isAlive) {
            return EndCheckResult.notEnded
        }

        return EndCheckResult(true, &quot;Game Over&quot;, &quot;You died!&quot;)
    }

    @JvmStatic
    fun main(args: Array&lt;String&gt;) {
        val cavern = Room(
            &quot;Cavern&quot;,
            &quot;A dark cavern set in to the base of the mountain.&quot;,
            listOf(
                Exit(Direction.NORTH),
            ),
        )

        val tunnel = Room(
            &quot;Tunnel&quot;,
            &quot;A dark tunnel leading inside the mountain.&quot;,
            listOf(
                Exit(Direction.SOUTH),
            ),
        )

        val holyGrail = Item(&quot;Holy Grail&quot;, &quot;A dull golden cup, looks pretty old.&quot;, true)

        tunnel.addItem(holyGrail)

        val regionMaker = RegionMaker(&quot;Mountain&quot;, &quot;An imposing volcano just East of town.&quot;).also {
            it[0, 0, 0] = cavern
            it[0, 1, 0] = tunnel
        }

        val overworldMaker = OverworldMaker(
            &quot;Daves World&quot;,
            &quot;An ancient kingdom.&quot;,
            listOf(
                regionMaker,
            ),
        )

        val gameTemplate = object : GameTemplate() {
            override fun instantiate(ioConfiguration: IOConfiguration): Game {
                return Game(
                    GameInformation(
                        &quot;The Life Of Dave&quot;,
                        &quot;Dave awakes to find himself in a cavern...&quot;,
                        &quot;A very low budget adventure.&quot;,
                        &quot;Ben Pollard&quot;,
                    ),
                    createPlayer(),
                    overworldMaker.make(),
                    { isGameComplete(it) },
                    { isGameOver(it) },
                    ioConfiguration = AnsiConsoleConfiguration,
                )
            }
        }

        GameExecutor.execute(
            gameTemplate,
            ExitMode.RETURN_TO_TITLE_SCREEN,
            AnsiConsoleConfiguration,
        )
    }
}
</code></pre>
<p>Simply build and run the application and congratulations, you have a working Ktaf game!</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.07f07601.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.56dfad97.min.js"></script>
      
    
  </body>
</html>